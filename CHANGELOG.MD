# CHANGELOG

更新日志文档，版本顺序从新到旧，最新版本在最前(上)面。

# 20.3.3

- 去掉条目详情接口拆分配置
- 优化登录页失败时的提示

# 20.3.2

- 移除flutter_secure_storage依赖

# 20.3.1

- 移除flutter_secure_storage
- 使用申请token的方式进行登录验证

# 20.3.0

- 使用flutter_secure_storage本地化用户名密码等敏感数据

# 20.2.13

- 调整选集按钮样式
- 桌面端正常窗口视频区域鼠标光标和视频控制层UI一起显示隐藏
- 剧集页选集按钮长按切换是否看完
- 优化条目页观看按钮

# 20.2.12

- 修复更新时头像闪动的问题
- 优化更新时安装包下载进度展示

# 20.2.11

- 修正R2上的目录名

# 20.2.10

- 修复剧集页弹幕数据无法正常更新的问题

# 20.2.9

- 修复编译问题

# 20.2.8

- 去掉条目详情页的选集，直接跳转剧集页选集
- 修复CI上传到R2的路径问题

# 20.2.7

- 调整上传到R2的目录

# 20.2.6

- 修复CI

# 20.2.5

- 修复CI

# 20.2.4

# 20.2.3

# 20.2.2

- 优化更新下载逻辑，使用Cloudflare R2下载包
- 配置好action上传到Cloudflare R2

# 20.2.1

- 修复视频播放区域底部黑边问题

# 20.2.0

- 优化剧集播放页
- 桌面端小窗播放按钮加载中禁用
- 修复条目详情页选集跳转不准问题
- 剧集页显示弹幕数量

# 20.1.15

- 调整app安卓更新为选择v8a的apk

# 20.1.14

- 条目详情页添加介绍和信息Tab
- 调整收藏按钮宽度

# 20.1.13

- 去掉代理设置输入框的易混淆提示内容
- 添加对应安卓包的资源压缩配置
- 安卓打包分开平台包减少体积
- 优化更新时获取安卓包的逻辑

# 20.1.12

- 给更新用的Dio添加http代理配置

# 20.1.11

- 彻底修复小窗移动不跟手问题

# 20.1.10

- 进入和退出小窗播放时调整字幕字体大小
- 如果视频在播放，则动态根据视频宽高比调整小窗高度
- 解决小窗移动窗口不跟鼠标的问题

# 20.1.9

- 优化Windows小窗播放位置配置

# 20.1.8

- Windows小窗播放，但是移动还有些问题

# 20.1.7

- 修复异常的条目封面图片上移问题
- Readme文档添加部分编译说明

# 20.1.6

- 优化条目列表页条件筛选
- 转移无法播放的条目判断到条目页选集播放按钮处

# 20.1.5

- 条目列表页添加筛选条件

# 20.1.4

- 抽取条目封面组件，替换条目列表页
- 优化条目封面组件，替换条目详情页
- 使用条目封面组件替换收藏页条目封面

# 20.1.3

- 条目列表页添加AppBar
- 用户页面用户信息获取

# 20.1.2

- 条目列表页去掉appbar将搜索图标移动到搜索框左侧 #32
- 条目列表页添加往下滑动隐藏和往上滑动动态显示搜索组件的功能

# 20.1.1

- 优化条目卡片下方的条目标题
- 调整条目卡片点击跳转范围到标题
- 收藏页条目封面右上角动态添加NSFW标签
- 优化条目列表页的条件查询
- 添加配置当条目列表页打开时是否隐藏NSFW
- 条目详情页查询条件上下之间增加空隙间隔
- 收藏页添加线性加载中提示
- 条目详情页查询条件去掉字体粗体

# 20.1.0

- 条目详情页封面右上角加nsfw标签
- 条目详情页圈圈加载中更新为横线加载中
- 条目详情页收藏操作优化

# 18.1.0

- 用户页添加部分设置，重写版本号展示
- 动态根据配置切换剧集和附件的查询接口是否为聚合的查询EpisodeRecord接口
- 支持调用服务端lucene引擎进行全文检索

# 17.1.11

- 取消macos平台的构建

# 17.1.10

- 修复macos上的编译问题
- 优化macos编译脚本

# 17.1.9

- 修复macos上的编译问题

# 17.1.8

- 更新构建脚本里的macos版本为12.6
- 桌面端截图只在windows上显示

# 17.1.7

- 修复github action macos编译问题

# 17.1.6

- 条目封面全屏预览

# 17.1.5

- 优化底部切换按钮
- 给条目封面卡片添加个底图
- 分开选集和收藏按钮
- 条目详情页调整样式添加空隙

# 17.1.4

- 修复选集状态显示不对 #30

# 17.1.3

- 修复重复跳转的问题
- 截图前暂停视频

# 17.1.2

- 适配服务端的接口变动

# 17.1.1

- 替换依赖修复编译问题

# 17.1.0

- 支持外部链接跳转app，格式: `ikaros://app/subject/228254`

# 15.3.25

- 移动端视频播放器截图保存到相册

# 15.3.24

- 替换移动端音乐播放器内核为just_audio，因为audioplayers在Linux上编译不过

# 15.3.23

- 音声类型条目播放优化

# 15.3.22

- 移除CI的linux平台dep包的编译

# 15.3.21

- 修复linux包构建时的版本号问题

# 15.3.20

- 更新linux二进制包名为ikaros

# 15.3.19

- 更新linux二进制包名为ikaros

# 15.3.18

- 修复linux包构建时的问题

# 15.3.17

- 修复linux包构建时的问题

# 15.3.16

- 修复linux包构建时的问题

# 15.3.15

- 修复linux包构建时的问题

# 15.3.14

- linux构建添加vlc和libvlc-dev

# 15.3.13

- 给ci构建加上-v参数输出详细日志
- 修复dart_vlc的delete peer问题

# 15.3.12

- 修GitHub的CI构建

# 15.3.11

- 修GitHub的CI构建

# 15.3.10

- 修GitHub的CI构建

# 15.3.9

- 修GitHub的CI构建

# 15.3.8

- 不支持的条目类型禁止跳转播放页
- 允许音声类型跳转剧集播放页
- 配置其它平台打包的CI

# 15.3.7

- 条目列表根据条目类型筛选
- 修复收藏页条目无法完全展示的问题
- 移动端播放器全屏时可以切换竖屏播放 #28

# 15.3.6

- Desktop端播放器UI监听空格控制暂停和恢复播放 #27
- Desktop端播放器UI监听Esc按键退出全屏

# 15.3.5

- 优化条目卡片样式

# 15.3.4

- [X] 弹幕字体配置更新无效 #25
- [X] 弹幕隐藏开关标题之间需要隔开 #26
- 给条目加上卡片样式，同时下方名称最大显示两行

# 15.3.3

- 修复字幕配置更新后没有将变量重置 #24

# 15.3.2

- [X] 弹幕查询只查询有平台关联的 #19
- [X] 根据条目名和序号只支持查询正片弹幕
- [X] 缩短弹幕的时间窗口 #22
- [X] 播放器UI能控制弹幕样式 #23
  - [X] PC端弹幕样式控制
  - [X] 移动端弹幕样式控制
- [X] 播放视频时需要屏幕保持常亮 #18

# 15.3.1

- [X] 更新依赖组件库，Close #17
- [X] 移动端播放器弹幕展示功能，Close #10

# 15.3.0

- [X] 优化PC的播放页布局
- [X] 修正PC截图的文件名，episodeId_post.png
- [X] PC端弹幕加载，从dandanplay获取
- [X] 移动端(IOS)播放器弹幕展示功能，安卓目前存在Stack视频渲染覆盖的问题暂时不支持。
- [X] 调整移动端播放器底部控制按钮

# 15.2.9


# 15.2.8

- 移动端时长小于五分钟的不加载上次观看进度
- 视频播放完后更新剧集为已看

# 15.2.7

- 去除移动端的截图插件，该功能后面在看

# 15.2.6

- 统一移动端和PC端的播放器UI

# 15.2.5

- 修复一个空值引起的异常显示问题

# 15.2.4

- 修复播放服务器本地附件时的字幕URL获取问题
- 优化第一个剧集加载提示的时机
- 安卓端字幕轨道音频轨道选择优化
- windows端的字幕和音频轨道选择

# 15.2.3

- 安卓端也支持自动跳转到上次播放进度

# 15.2.2

- 条目详情页剧集选择按钮未绑定资源显示灰色并无法点击
- windows端支持自动跳转到上次播放的进度

# 15.2.1

- 修复剧集播放页返回按钮失效问题

# 15.2.0

- 条目选集按钮根据剧集是否看完动态显示颜色，看完显示绿色，未看显示蓝色
- 条目选集按钮长按可以更新当前剧集是否看过

# 15.1.28

- 修复Windows端的自动更新问题，Close #15

# 15.1.27

- 条目详情页选集按钮不可用时颜色更新为更理解的灰色

# 15.1.26

- windows进程名称和exe文件名更新为ikaros
- 添加缺失的jks文件

# 15.1.25

- 修复版本更新时的版本对比问题
- 格式化用户页面
- 添加安卓签名

# 15.1.24

- 修复版本更新时的版本对比问题

# 15.1.23

- 修复从剧集播放页返回视频播放器未停止的问题
- 添加package_info_plus用于获取当前版本
- 给用户页面登出添加确认框
- 给登录页面的密码框添加回车登录
- Windows和Android应用内更新

# 15.1.22

- 条目收藏操作，包括收藏取消收藏切换收藏类型。
- 条目详情页右上角添加Console的条目详情页跳转链接按钮

# 15.1.21

- 修复手机上视频没有走加载字幕逻辑的问题
- 更新APP版本的约定并更新版本号

# 0.15.5+20

- 替换window应用图标
- 修复全屏按钮失效问题
- 修复没有添加资源字幕的问题
- 修复视频播放器控制UI字幕列表不正常显示问题

# 0.15.5+19

- 添加Linux包构建

# 0.15.5+18

- 修复release包不包含dart_vlc依赖内容的问题
- 优化CI后的包名

# 0.15.5+17

- PC自适应布局
- 修复PC屏幕的选集弹框没有设置宽度的问题
- 剧集Tab里的选集按钮没有资源时禁用
- 条目剧集没有资源时选集弹框按钮禁用
- 初步支持在Windows上播放，支持字幕和全屏，但目前字幕切换还有点问题

# 0.15.5+16

- 优化剧集分组的排序，正片在最左第一个
- 优化剧集分组只有一种正片时的显示
- 修正收藏列表也跳转到条目详情选集页

# 0.15.5+15

- 修复部分机型flutter_vlc_player的播放器会导致app崩溃的问题

# 0.15.5+14

- 更新CI的flutter版本

# 0.15.5+13

- 支持查看其它分组的剧集，在条目详情页不播放视频，拆分成详情页和播放页，详情页点击选集选择对应剧集跳转到播放页
